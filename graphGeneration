# Used for fancy plots
library(ggplot2)
library(data.table)

imgWidth <-8
imgHeight <- 8

# Reads in with header names
report <- read.csv('report.csv')

# Removes rows for sameouput
macroSubset <- subset(avgReport, algorithm != "sameoutput")
avgMacroGeneratedReport <- as.data.table(report)
avgMacroGeneratedReport[,list(macros_generated=mean(macros_generated)),c('domain', 'algorithm', 'problem')]
avgMacroUseReport <- as.data.table(report)
avgMacroUseReport[,list(macros_used=mean(macros_used)),c('domain', 'algorithm', 'problem')]

macroGeneratedPlot <- ggplot(avgMacroGeneratedReport, aes(domain, macros_generated)) + geom_boxplot()
ggsave(plot=macroGeneratedPlot, filename="macroGeneratedPlot.pdf", width=imgWidth, height=imgHeight)

macroUsePlot <- ggplot(avgMacroUseReport, aes(domain, macros_used)) + geom_boxplot()
ggsave(plot=macroUsePlot, filename="macroGeneratedPlot.pdf", width=imgWidth, height=imgHeight)

# Converts it to a table?
avgReport <- as.data.table(report)
# Takes average of all
avgReport[,list(mm=mean(reformulation_time)),c('domain', 'algorithm', 'problem')]



scatterPlot <- ggplot(report, aes(domain, reformulation_time)) + geom_point(aes(color=algorithm))
boxPlot1 <- ggplot(report, aes(domain, reformulation_time)) + geom_boxplot(aes(color=problem))
boxPlot2 <- ggplot(report, aes(algorithm, planner_time)) + geom_boxplot()
boxPlot3 <- ggplot(report, aes(algorithm, reformulation_time)) + geom_boxplot(aes(color=p7_settings_file))
ggsave(plot=scatterPlot, filename="scatterPlot.pdf", width=8, height=8)
ggsave(plot=boxPlot1, filename="boxPlot1.pdf", width=8, height=8)
ggsave(plot=boxPlot2, filename="boxPlot2.pdf", width=8, height=8)
ggsave(plot=boxPlot3, filename="boxPlot3.pdf", width=8, height=8)
